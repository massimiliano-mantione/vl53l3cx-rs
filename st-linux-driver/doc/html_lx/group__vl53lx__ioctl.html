<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>VL53LXlinuxdriver: IOCTL interface commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VL53LXlinuxdriver
   &#160;<span id="projectnumber">1.1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__vl53lx__ioctl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Modules</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">IOCTL interface commands</div>  </div>
</div><!--header-->
<div class="contents">

<p>Ioctl commands for vl53Lx.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstmvl53lx__parameter.html">stmvl53lx_parameter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstmvl53lx__ioctl__roi__t.html">stmvl53lx_ioctl_roi_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstmvl53lx__ioctl__calibration__data__t.html">stmvl53lx_ioctl_calibration_data_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstmvl53lx__ioctl__perform__calibration__t.html">stmvl53lx_ioctl_perform_calibration_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gac4dc2d3d12a4394c14639f315162afc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gac4dc2d3d12a4394c14639f315162afc6">VL53LX_MISC_DEV_NAME</a>&#160;&#160;&#160;&quot;stmvl53lx_ranging&quot;</td></tr>
<tr class="separator:gac4dc2d3d12a4394c14639f315162afc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac7b8ff6042a985fd61d61c858c17d46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gaac7b8ff6042a985fd61d61c858c17d46">VL53LX_CALIBRATION_REF_SPAD</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaac7b8ff6042a985fd61d61c858c17d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0ef50c4027a376ef8625efbd72777dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gae0ef50c4027a376ef8625efbd72777dd">VL53LX_CALIBRATION_CROSSTALK</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gae0ef50c4027a376ef8625efbd72777dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8acb51d16334aa9bed702cf7b769124"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gab8acb51d16334aa9bed702cf7b769124">VL53LX_CALIBRATION_OFFSET</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:gab8acb51d16334aa9bed702cf7b769124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66e54dbcbebac5452838f5322af63a76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga66e54dbcbebac5452838f5322af63a76">VL53LX_CALIBRATION_OFFSET_SIMPLE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ga66e54dbcbebac5452838f5322af63a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d43fa7218281a5eced58af05969ef32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga4d43fa7218281a5eced58af05969ef32">VL53LX_CALIBRATION_OFFSET_PER_VCSEL</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ga4d43fa7218281a5eced58af05969ef32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17efe1060dac3204d95315a6f6dc5def"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga17efe1060dac3204d95315a6f6dc5def">VL53LX_CALIBRATION_OFFSET_ZERO_DISTANCE</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:ga17efe1060dac3204d95315a6f6dc5def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae056a9f0ca2855700464495558551802"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gae056a9f0ca2855700464495558551802">VL53LX_IOCTL_START</a>&#160;&#160;&#160;_IO('p', 0x01)</td></tr>
<tr class="separator:gae056a9f0ca2855700464495558551802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e703f22f8be725cb7b299f522b36f90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga8e703f22f8be725cb7b299f522b36f90">VL53LX_IOCTL_STOP</a>&#160;&#160;&#160;_IO('p', 0x05)</td></tr>
<tr class="separator:ga8e703f22f8be725cb7b299f522b36f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga512c9e1b637381e6e7d634ede9937228"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga512c9e1b637381e6e7d634ede9937228">VL53LX_IOCTL_PARAMETER</a>&#160;&#160;&#160;_IOWR('p', 0x0d, struct stmvl53lx_parameter)</td></tr>
<tr class="separator:ga512c9e1b637381e6e7d634ede9937228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92524ae26d17fb170dd355b5568f95a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga92524ae26d17fb170dd355b5568f95a9">VL53LX_IOCTL_ROI</a>&#160;&#160;&#160;_IOWR('p', 0x0e, struct stmvl53lx_ioctl_roi_t)</td></tr>
<tr class="separator:ga92524ae26d17fb170dd355b5568f95a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c67bdffc697b28779bc19b61c8d5adf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga8c67bdffc697b28779bc19b61c8d5adf">VL53LX_IOCTL_MZ_DATA</a>&#160;&#160;&#160;_IOR('p', 0x0f, VL53LX_MultiRangingData_t)</td></tr>
<tr class="separator:ga8c67bdffc697b28779bc19b61c8d5adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf302a260c993cce58bc3d2a1ca270f06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gaf302a260c993cce58bc3d2a1ca270f06">VL53LX_IOCTL_MZ_DATA_BLOCKING</a>&#160;&#160;&#160;_IOR('p', 0x11, VL53LX_MultiRangingData_t)</td></tr>
<tr class="separator:gaf302a260c993cce58bc3d2a1ca270f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4bb11beec0b937e40b906a662a8cd7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gae4bb11beec0b937e40b906a662a8cd7f">VL53LX_IOCTL_CALIBRATION_DATA</a>&#160;&#160;&#160;_IOWR('p', 0x12, struct stmvl53lx_ioctl_calibration_data_t)</td></tr>
<tr class="separator:gae4bb11beec0b937e40b906a662a8cd7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabe3ca6fb95b2a81827d725fb72a21b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>&#160;&#160;&#160;_IOW('p', 0x13, struct stmvl53lx_ioctl_perform_calibration_t)</td></tr>
<tr class="separator:gaabe3ca6fb95b2a81827d725fb72a21b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4f8b5cf7750ba7f18b1896df7e98f26c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vl53lx__ioctl.html#ga4f8b5cf7750ba7f18b1896df7e98f26c">__stmv53lx_parameter_name_e</a> { <br />
&#160;&#160;<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26cae6a141a759140429edcf88d7f0a470c2">VL53LX_XTALKENABLE_PAR</a> = 2, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26ca3cf1d667fdfde6ac365cc3ea81e069a7">VL53LX_POLLDELAY_PAR</a> = 10, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26caa05b73005ad7061e5d5bfbf38ebaa746">VL53LX_TIMINGBUDGET_PAR</a> = 11, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26ca638a321c65e9274b9a2135d42173add8">VL53LX_DISTANCEMODE_PAR</a> = 12, 
<br />
&#160;&#160;<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26cadeea71cf285c6f61fc0dccc08a39d0fc">VL53LX_FORCEDEVICEONEN_PAR</a> = 14, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26cae56c04cff3035ed5758ad71cad3d405c">VL53LX_LASTERROR_PAR</a> = 15, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26ca840a27c48057e63f58cb000a44b835bc">VL53LX_OFFSETCORRECTIONMODE_PAR</a> = 16, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26ca9f09ec46436322a014f71e62c18ee234">VL53LX_OPTICALCENTER_PAR</a> = 17, 
<br />
&#160;&#160;<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26cae849f0d2e79fa1d4b956077100db75e4">VL53LX_TUNING_PAR</a> = 20, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26caa44af892558f3ba1ed50813fedb44f8e">VL53LX_SMUDGECORRECTIONMODE_PAR</a> = 21, 
<a class="el" href="group__vl53lx__ioctl.html#gga4f8b5cf7750ba7f18b1896df7e98f26ca8c22eed973a5545cf425bbeb4b5ef054">VL53LX_ISXTALKVALUECHANGED_PAR</a> = 22
<br />
 }</td></tr>
<tr class="separator:ga4f8b5cf7750ba7f18b1896df7e98f26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Ioctl commands for vl53Lx. </p>
<p>ioctl are done across misc device <a class="el" href="group__vl53lx__ioctl.html#gac4dc2d3d12a4394c14639f315162afc6">VL53LX_MISC_DEV_NAME</a> </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gae0ef50c4027a376ef8625efbd72777dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_CALIBRATION_CROSSTALK&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select crosstalk calibration in <a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>.</p>
<p>param1, param2 and param3 not use </p>

</div>
</div>
<a class="anchor" id="gab8acb51d16334aa9bed702cf7b769124"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_CALIBRATION_OFFSET&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select offset calibration <a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>. param1 is target distance in mm. param2 and param3 are not used</p>
<p>Note that VL53LX_CALIBRATION_OFFSET usage is deprecated. Applications should use VL53LX_CALIBRATION_OFFSET_SIMPLE instead. </p>

</div>
</div>
<a class="anchor" id="ga4d43fa7218281a5eced58af05969ef32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_CALIBRATION_OFFSET_PER_VCSEL&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select per Vcsel offset calibration <a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>. param1 is target distance in mm. param2 and param3 are not used this calibration is used by the VL53LX_OFFSETCORRECTIONMODE_PERVCSEL mode </p>

</div>
</div>
<a class="anchor" id="ga66e54dbcbebac5452838f5322af63a76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_CALIBRATION_OFFSET_SIMPLE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select simple offset calibration <a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>. param1 is target distance in mm. param2 and param3 are not used this calibration is used by the VL53LX_OFFSETCORRECTIONMODE_STANDARD mode </p>

</div>
</div>
<a class="anchor" id="ga17efe1060dac3204d95315a6f6dc5def"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_CALIBRATION_OFFSET_ZERO_DISTANCE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select no Distance offset calibration <a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>. param1, param2 and param3 are not used this calibration is used by the VL53LX_OFFSETCORRECTIONMODE_STANDARD mode </p>

</div>
</div>
<a class="anchor" id="gaac7b8ff6042a985fd61d61c858c17d46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_CALIBRATION_REF_SPAD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Select reference spad calibration in <a class="el" href="group__vl53lx__ioctl.html#gaabe3ca6fb95b2a81827d725fb72a21b8">VL53LX_IOCTL_PERFORM_CALIBRATION</a>.</p>
<p>param1, param2 and param3 not use </p>

</div>
</div>
<a class="anchor" id="gae4bb11beec0b937e40b906a662a8cd7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_CALIBRATION_DATA&#160;&#160;&#160;_IOWR('p', 0x12, struct stmvl53lx_ioctl_calibration_data_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get / set calibration data</p>
<p>this call allow client to either read calibration data after calibration has been performed to store them in the host filesystem or push calibration data before ranging at each start-up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[in/out]</td><td>data struct ptr of type <a class="el" href="structstmvl53lx__ioctl__calibration__data__t.html">stmvl53lx_ioctl_calibration_data_t</a>. Caller should consider it as an opaque structure.</td></tr>
  </table>
  </dd>
</dl>
<p>use this after either VL53LX_CALIBRATION_REF_SPAD, VL53LX_CALIBRATION_CROSSTALK or VL53LX_CALIBRATION_OFFSET.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success else o, error check errno <ul>
<li>-EFAULT fault in cpy to f/m user out range data not copied </li>
<li>-EBUSY when trying to set calibration data while ranging </li>
<li>-EIO. Read last_error to get device error code </li>
<li>-ENODEV. Device has been removed. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga8c67bdffc697b28779bc19b61c8d5adf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_MZ_DATA&#160;&#160;&#160;_IOR('p', 0x0f, VL53LX_MultiRangingData_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get multi object ranging data</p>
<p>this call is non blocking and will return what available internally in all case (veen error)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">multi</td><td>range VL53LX_MultiRangingData_t always update but -EFAULT error case</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success else o, error check errno <ul>
<li>-EFAULT fault in cpy to f/m user out range data not copied </li>
<li>-ENOEXEC active mode is not multirange </li>
<li>-ENODEV device is not ranging or device has been removed. as in that case MZ data may not be fully valid </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaf302a260c993cce58bc3d2a1ca270f06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_MZ_DATA_BLOCKING&#160;&#160;&#160;_IOR('p', 0x11, VL53LX_MultiRangingData_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get multi object ranging data</p>
<p>this call is equivalent to VL53LX_IOCTL_MZ_DATA but will block until new data are available since previous call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">multi</td><td>range VL53LX_MultiRangingData_t always update but -EFAULT error case</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success else o, error check errno <ul>
<li>-EFAULT fault in cpy to f/m user out range data not copied </li>
<li>-ENOEXEC active mode is not multirange </li>
<li>-ENODEV device is not ranging or device has been removed. </li>
<li>-ERESTARTSYS interrupt while sleeping. as in that case MZ data may not be fully valid </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga512c9e1b637381e6e7d634ede9937228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_PARAMETER&#160;&#160;&#160;_IOWR('p', 0x0d, struct stmvl53lx_parameter)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set or get parameter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameter</td><td>in/out <a class="el" href="structstmvl53lx__parameter.html">stmvl53lx_parameter</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>stmv53lx_parameter_name_e</dd></dl>
<p>for get if ioctl fail do not check for out params it is not valid for set theirs not copy back only see ioctl status, errno to get error case</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success else o, error check errno <ul>
<li>-ENODEV. Device has been removed.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>a set parameter may not be absorbed straight aways ! </dd></dl>

</div>
</div>
<a class="anchor" id="gaabe3ca6fb95b2a81827d725fb72a21b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_PERFORM_CALIBRATION&#160;&#160;&#160;_IOW('p', 0x13, struct stmvl53lx_ioctl_perform_calibration_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>perform calibration squence according to calibration_type</p>
<p>this call is attended to be used during factory calibration. You select calibration to issue using calibration_type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>struct ptr of type <a class="el" href="structstmvl53lx__ioctl__perform__calibration__t.html">stmvl53lx_ioctl_perform_calibration_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success else o, error check errno <ul>
<li>-EFAULT fault in cpy to f/m user out range data not copied </li>
<li>-EBUSY when trying to perform calibration data while ranging </li>
<li>-EIO. Read last_error to get device error code </li>
<li>-ENODEV. Device has been removed. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga92524ae26d17fb170dd355b5568f95a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_ROI&#160;&#160;&#160;_IOWR('p', 0x0e, struct stmvl53lx_ioctl_roi_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set/Get roi</p>
<p>shall only be used when device is stopped (EBUSY error otherwise)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi_cfg</td><td>[in/out] type <a class="el" href="structstmvl53lx__ioctl__roi__t.html">stmvl53lx_ioctl_roi_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>the coordinate system is not usual image x,y (y down)but traditional euclidean x,y (y up)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>roi validity is only checked at start ranging , as such invalid roi set can make start to fail</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success , see errno for error detail <ul>
<li>-EFAULT fault in cpy to/from user. data not copied </li>
<li>-EBUSY when trying to set roi while ranging </li>
<li>-ENODEV device has been removed </li>
<li>other errno code could be ll driver specific </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gae056a9f0ca2855700464495558551802"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_START&#160;&#160;&#160;_IO('p', 0x01)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start ranging (no argument)</p>
<dl class="section note"><dt>Note</dt><dd>sysfs and ioctl control are assumed mutual exclusive use control from ioctl execute with no consideration of sysfs path.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>: <ul>
<li>0 on success </li>
<li>-EBUSY if already started </li>
<li>-ENXIO failed to change i2c address change after reset release </li>
<li>-EIO. Read last_error to get device error code </li>
<li>-ENODEV. Device has been removed.</li>
</ul>
example user land : <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; int smtvl53lx_start(int fd){error</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    int rc;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    rc= ioctl(fd, VL53LX_IOCTL_START,NULL);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    if( rc ){</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        if( errno == EBUSY){</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            //the device is already started</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;            ioctl_warn(&quot;already started&quot;);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;            return EBUSY;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        }</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    }</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    if( rc ){</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        ioctl_error(&quot;%d %s&quot;, rc,strerror(errno));</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    }</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    return rc;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8e703f22f8be725cb7b299f522b36f90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_IOCTL_STOP&#160;&#160;&#160;_IO('p', 0x05)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stop ranging (no argument)</p>
<dl class="section note"><dt>Note</dt><dd>sysfs and ioctl control are assumed mutual exclusive use control from ioctl execute action with no consideration of sysfs path.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success </li>
<li>-EBUSY if it was already </li>
<li>-EIO. Read last_error to get device error code </li>
<li>-ENODEV. Device has been removed.</li>
</ul>
c example userland : <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;int smtvl53lx_stop(int fd){</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    int rc;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    rc= ioctl(fd, VL53LX_IOCTL_STOP,NULL);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    if( rc ){</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        if( errno == EBUSY ){</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            ioctl_warn(&quot;already stopped&quot;);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;            return errno;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        }</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        ioctl_error(&quot;%d %s&quot;, rc,strerror(errno));</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    }</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    return rc;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gac4dc2d3d12a4394c14639f315162afc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL53LX_MISC_DEV_NAME&#160;&#160;&#160;&quot;stmvl53lx_ranging&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>misc device name for ioctl device</p>
<p>for mutli instance all device 2nd and next instance are basic name +"1"+"2" </p><ul>
<li>stmvl53lx_ranging </li>
<li>stmvl53lx_ranging1 </li>
<li>stmvl53lx_ranging2 </li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga4f8b5cf7750ba7f18b1896df7e98f26c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__vl53lx__ioctl.html#ga4f8b5cf7750ba7f18b1896df7e98f26c">__stmv53lx_parameter_name_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>parameter name in <a class="el" href="structstmvl53lx__parameter.html">stmvl53lx_parameter</a> when using <a class="el" href="group__vl53lx__ioctl.html#ga512c9e1b637381e6e7d634ede9937228">VL53LX_IOCTL_PARAMETER</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26cae6a141a759140429edcf88d7f0a470c2"></a>VL53LX_XTALKENABLE_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_XTALKENABLE_PAR enable/disable crosstalk compensation<br />
valid value : </p><ul>
<li>0 disable crosstalk compensation </li>
<li>1 enable crosstalk compensation</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>mode can only be set while not ranging </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26ca3cf1d667fdfde6ac365cc3ea81e069a7"></a>VL53LX_POLLDELAY_PAR&#160;</td><td class="fielddoc">
<p>set the polling delay (msec)<br />
 </p><dl class="section note"><dt>Note</dt><dd>apply only when operates in polling mode as no effect otherwise </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26caa05b73005ad7061e5d5bfbf38ebaa746"></a>VL53LX_TIMINGBUDGET_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_TIMINGBUDGET_PAR <a class="el" href="structstmvl53lx__parameter.html#af030c3b2988805b07b99f6aab7a3042b">stmvl53lx_parameter::value</a> field is timing budget in micro second</p>
<dl class="section note"><dt>Note</dt><dd>Please refer to VL53LX user manual for minimum timing budget </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26ca638a321c65e9274b9a2135d42173add8"></a>VL53LX_DISTANCEMODE_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_DISTANCEMODE_PAR valid distance mode value : </p><ul>
<li>1 <em>VL53LX_DISTANCEMODE_SHORT</em> </li>
<li>2 <em>VL53LX_DISTANCEMODE_MEDIUM</em> </li>
<li>3 <em>VL53LX_DISTANCEMODE_LONG</em> </li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>distance mode can only be set while not ranging </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26cadeea71cf285c6f61fc0dccc08a39d0fc"></a>VL53LX_FORCEDEVICEONEN_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_FORCEDEVICEONEN_PAR This parameter will control if device is put under reset when stopped. valid force device on value : </p><ul>
<li>0 feature is disable. Device is put under reset when stopped. </li>
<li>1 feature is enable. Device is not put under reset when stopped. </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26cae56c04cff3035ed5758ad71cad3d405c"></a>VL53LX_LASTERROR_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_LASTERROR_PAR This is a read only parameter. It will return last device internal error. It's valid only after an ioctl/sysfs return an -EIO error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26ca840a27c48057e63f58cb000a44b835bc"></a>VL53LX_OFFSETCORRECTIONMODE_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_OFFSETCORRECTIONMODE_PAR This parameter will define which mode to use for the offset correction. valid force device on value : </p><ul>
<li>1 <em>VL53LX_OFFSETCORRECTIONMODE_STANDARD</em> </li>
<li>2 <em>VL53LX_OFFSETCORRECTIONMODE_PERZONE</em> </li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>offset correction mode can only be set while not ranging </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26ca9f09ec46436322a014f71e62c18ee234"></a>VL53LX_OPTICALCENTER_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_OPTICALCENTER_PAR This is a read only parameter. It will return optical center issued from the nvm set at FMT stage. value will contain X position of center. value2 will contain Y position of center. Return values have FixPoint1616_t type. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26cae849f0d2e79fa1d4b956077100db75e4"></a>VL53LX_TUNING_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_TUNING_PAR This parameter is a write only parameter. It will allow to provide low level layer with a configuration parameter. value will be use as a key parameter. value2 will be use as value parameter.</p>
<dl class="section warning"><dt>Warning</dt><dd>those configuration parameter settings are only allowed before device is start once. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26caa44af892558f3ba1ed50813fedb44f8e"></a>VL53LX_SMUDGECORRECTIONMODE_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_SMUDGECORRECTIONMODE_PAR This parameter will control if smudge correction is enable and how crosstalk values are updated. </p><ul>
<li>0 <em>VL53LX_SMUDGE_CORRECTION_NONE</em> </li>
<li>1 <em>VL53LX_SMUDGE_CORRECTION_CONTINUOUS</em> </li>
<li>2 <em>VL53LX_SMUDGE_CORRECTION_SINGLE</em> </li>
<li>3 <em>VL53LX_SMUDGE_CORRECTION_DEBUG</em> </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4f8b5cf7750ba7f18b1896df7e98f26ca8c22eed973a5545cf425bbeb4b5ef054"></a>VL53LX_ISXTALKVALUECHANGED_PAR&#160;</td><td class="fielddoc">
<p>VL53LX_ISXTALKCHANGED_PAR This is a read only parameter. It will return if Xtalk value has been updated while ranging. This parameter is reset each time device start to range. </p><ul>
<li>0 Xtalk values has not been changed. </li>
<li>1 Xtalk values has been changed. </li>
</ul>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Nov 22 2021 14:31:16 for VL53LXlinuxdriver by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
